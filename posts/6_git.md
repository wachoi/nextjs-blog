---
title: 'git을 공부하자!'
date: '2020-07-14'
---

노트북을 새로 장만했다. 새 노트북으로 내용을 옮기기 위해 깃헙에 파일들을 올리려니 예상치 못한 문제가 발생했다.
SSH 키 때문에 내 깃헙 계정에 push를 할 수가 없었다. 
SSH 키를 새로 만들고, git config를 다시 해보고, 내 깃헙 계정에 SSH 키를 등록하고 별 짓을 다했지만 계속 permission이 없어 deny되었다는 답만 돌아왔다.
반나절을 이것저것 시도해 결국 push를 올리는데에는 성공했지만 어떻게 성공한 것인지 이해하지 못하니 영 찝찝하다.
(추측하기로는 내가 새로 만든 SSH 키가 특정한 디렉토리에서만 유효한 것이거나, 아니면 내가 깃헙 레포지토리를 SSH 키를 이용해 접근하도록 하지 않았던 것 같다)

그래서 git을 공부하기로 했다. 

감사하게도 인터넷에 좋은 자료가 많다.
[git에서 제공하는 한글 문서](https://git-scm.com/book/ko/v2)가 있어 살펴보려고 한다. 

1. 시작하기

어떤 큰 작업을 하다보면, 확신이 없는 상태에서 시도를 해보거나 이전 상태로 되돌리고 싶은 경우가 많다. 이때 **버전관리**가 필요하다. 특히 여러 사람이 하나의 작업을 같이 진행할 때에는 어떤 사람이 어떤 작업을 했는지 파악하고, 그것을 받아들일지 말지 결정하는 과정도 필요하다. Git은 이 일을 가능하게 하기 위해 만들어졌다. 

Git은 Linux 커널이라는 매우 큰 프로젝트의 버전관리를 위해, Linux의 창시자인 Linus와 그의 개발 커뮤니티가 같이 만든 **'분산 버전 관리 시스템'**이다. Git이 '분산' 버전관리라고 불리는 이유는 git의 클라이언트들이 마지막 파일의 스냅샷을 가지고 있는 것이 아니라, **저장소와 히스토리를 통째로 복제해 가지고 있기 때문**이다. Git은 여러 개의 리모트 저장소를 가지고 있을 수 있어, 여러 사람과 협업이 가능하고, 데이터도 더 안전하게 보관할 수 있다. 내가 사용하고 있는 Github은 나의 git이 가진 하나의 리모트 저장소이다. 

Git은 또한 데이터를 스냅샷의 스트림으로 취급한다는 점에서 특별하다고 한다. 다른 VCS들은 대개 파일들과 변경사항(델타)을 시간순으로 관리한다고 한다. 이 차이가 어떤 뜻인지는 사실 잘 모르겠다. 그리고 git은 거의 모든 명령을 로컬에서 실행한다. 그래서 매우 빠르고, 네트워크에 연결되어 있지 않아도 작업을 할 수 있다. 로컬에서 commit을 해두면 리모트 저장소에 네트워크로 연결되어 있지 않아도 commit한 내용을 잃어버리지 않는다. Commit은 되돌려지거나 사라지지 않는다. 

Git은 파일을 commited, modified, staged의 세 가지 상태로 관리한다. 
Git의 '본체'라고 할 수 있는 git directory에서 clone하여 working directory를 만들고, 거기에서 작업을 하게 된다. 작업을 한 파일은 modified 된 상태이다. 이 파일을 이제 commit을 할 것이라고 staging area에 올리면 staged 된 상태가 된다. Staged 상태의 파일을 commit하면 영구적인 스냅샷으로 박제가 되어 git directory에 저장된다. 

내가 이 글을 쓰고 ctrl + s를 누르면 이 md 파일은 modified 상태가 된다. VS code의 source control 창에 보면 'changed' 창에 이 파일이 보인다. 이제 'changed' 창에서 +를 클릭하거나, terminal에서 git add를 하면 파일이 'staged changes' 창으로 이동한다. Staged 상태가 된 것이다. 이제 내가 git command + enter를 입력하거나 commit을 terminal에 입력하면 repository에 commit될 것이다. 

